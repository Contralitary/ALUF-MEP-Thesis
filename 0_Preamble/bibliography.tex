%% bibliography.tex
%% Copyright 2024 Zhiyuan Qiu
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   https://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX
% version 2008 or later.
%
% This work has the LPPL maintenance status `maintained'.
% 
% The Current Maintainer of this work is Zhiyuan Qiu.
%
% This work consists of all files listed in manifest.txt.


% ========================= Bibliography Setup =========================

\usepackage[backend=biber, style=apa]{biblatex}
\DeclareLanguageMapping{american}{american-apa}
\addbibresource{Bib/BibFile.bib}

% Add "Available from:" in the front of urls
\DeclareFieldFormat{url}{\bibstring{urlfrom}\addcolon\space\url{#1}}
    
% Fix empty layouts for multiple-page bib
\renewcommand{\bibsetup}{\thispagestyle{empty}\pagestyle{empty}}
\makeatletter
\patchcmd{\blx@endenv@bibliography}{\endlist}{\endlist\clearpage}{}{}
\makeatother
    
%Alternative commands (do not fix the bib empty layout):
%\usepackage{doi}    % Generate hyperlinks for ToC, citations & URLs
%    \renewcommand{\doitext}{}    % Remove duplicate 'doi:' text in bib
    
%\usepackage{apacite}
%    \bibliographystyle{apacite}    % APA Bib Style
%\usepackage[round]{natbib}    % 'Author (year)' Citation Style
    
%\usepackage{etoolbox}    % Remove URLs in Bib
%    \renewenvironment{APACrefURL}[1][]{}{}
%    \AtBeginEnvironment{APACrefURL}{\renewcommand{\url}[1]{}}
%    \renewcommand{\doiprefix}{doi:~\kern-1pt}

%\AtBeginDocument{\renewcommand{\APACrefYearMonthDay}[3]{\BBOP{#1}\BBCP}}
% Remove months and days in Bib
%\renewcommand\refname{Bibliography}
% % Rename 'Reference' to ‘Bibliography’
